<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Button Grid</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #button-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, 120px);
            width: 100vw;
            height: 100vh;
        }
        .grid-button {
            width: 120px;
            height: 120px;
            border: none;
        }
        .extra-row-button, .extra-column-button {
            height: auto; /* Allow these buttons to adjust height */
        }
    </style>
</head>
<body>
    <div id="button-container"></div>

    <script>
        // Function to generate random pastel colors
        function getRandomPastelColor() {
            const r = Math.floor((Math.random() * 127) + 128); // Random number between 128 and 255
            const g = Math.floor((Math.random() * 127) + 128);
            const b = Math.floor((Math.random() * 127) + 128);
            return `rgb(${r}, ${g}, ${b})`;
        }

        function createButtonGrid() {
            const buttonContainer = document.getElementById('button-container');
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;

            // Calculate the number of buttons that fit horizontally and vertically
            const cols = Math.floor(screenWidth / 120);
            const rows = Math.floor(screenHeight / 120);
            const leftoverWidth = screenWidth % 120;
            const leftoverHeight = screenHeight % 120;

            // Calculate the total number of buttons (for full rows and columns)
            const totalButtons = cols * rows;

            // Clear any existing buttons (if resizing)
            buttonContainer.innerHTML = '';

            // Create and append buttons for full rows and columns
            for (let i = 0; i < totalButtons; i++) {
                const button = document.createElement('button');
                button.className = 'grid-button';
                button.style.backgroundColor = getRandomPastelColor(); // Set random pastel color

                // Add click event listener to turn the button black
                button.addEventListener('click', () => {
                    button.style.backgroundColor = 'black';
                });

                buttonContainer.appendChild(button);
            }

            // If there is leftover height, create an extra row
            if (leftoverHeight > 0) {
                for (let i = 0; i < cols; i++) {
                    const extraButton = document.createElement('button');
                    extraButton.className = 'grid-button extra-row-button';
                    extraButton.style.height = `${leftoverHeight}px`; // Set the height to leftover space
                    extraButton.style.backgroundColor = getRandomPastelColor(); // Set random pastel color

                    // Add click event listener to turn the button black
                    extraButton.addEventListener('click', () => {
                        extraButton.style.backgroundColor = 'black';
                    });

                    buttonContainer.appendChild(extraButton);
                }
            }

            // If there is leftover width, create an extra column
            if (leftoverWidth > 0) {
                for (let i = 0; i < rows; i++) {
                    const extraButton = document.createElement('button');
                    extraButton.className = 'grid-button extra-column-button';
                    extraButton.style.width = `${leftoverWidth}px`; // Set the width to leftover space
                    extraButton.style.backgroundColor = getRandomPastelColor(); // Set random pastel color

                    // Add click event listener to turn the button black
                    extraButton.addEventListener('click', () => {
                        extraButton.style.backgroundColor = 'black';
                    });

                    buttonContainer.appendChild(extraButton);
                }
            }

            // Handle the corner button if both width and height have leftovers
            if (leftoverWidth > 0 && leftoverHeight > 0) {
                const cornerButton = document.createElement('button');
                cornerButton.className = 'grid-button extra-column-button extra-row-button';
                cornerButton.style.width = `${leftoverWidth}px`;
                cornerButton.style.height = `${leftoverHeight}px`;
                cornerButton.style.backgroundColor = getRandomPastelColor(); // Set random pastel color

                // Add click event listener to turn the button black
                cornerButton.addEventListener('click', () => {
                    cornerButton.style.backgroundColor = 'black';
                });

                buttonContainer.appendChild(cornerButton);
            }
        }

        // Initialize button grid
        createButtonGrid();

        // Recalculate button grid on window resize
        window.addEventListener('resize', createButtonGrid);
    </script>
</body>
</html>
